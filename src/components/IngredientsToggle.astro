---
---
---
---
<script client:load>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("table tr").forEach((row) => {
      // Build a stable key from the rowâ€™s text
      const key = `ingredient-row-${row.textContent.trim()}`;

      // Restore saved state
      if (localStorage.getItem(key) === "used") {
        row.classList.add("ingredient-used");
      }

      row.addEventListener("click", () => {
        row.classList.toggle("ingredient-used");

        if (row.classList.contains("ingredient-used")) {
          localStorage.setItem(key, "used");
        } else {
          localStorage.removeItem(key);
        }
      });
    });
  });
</script>
